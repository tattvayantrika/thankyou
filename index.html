<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tattva Yantrika Feedback & Testimonial</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
    body { min-height: 100vh; background: linear-gradient(135deg, #1d103b, #4a1d7a, #c89c5c); background-attachment: fixed; display: flex; justify-content: center; align-items: center; padding: 25px; }
    .form-container { background: rgba(255, 255, 255, 0.08); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-radius: 20px; padding: 40px 35px; max-width: 700px; width: 100%; box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37); border: 1px solid rgba(255, 255, 255, 0.18); color: #fff; }
    .logo-section { display: flex; align-items: center; margin-bottom: 35px; }
    .logo-section img { width: 60px; height: 60px; border-radius: 15px; margin-right: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
    .logo-text h1 { font-size: 26px; font-weight: 700; background: linear-gradient(90deg, #ffde8a, #c190fd); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 5px; }
    .logo-text p { font-size: 16px; color: #ffde8a; }
    form { display: flex; flex-direction: column; gap: 25px; }
    .form-section { display: flex; flex-direction: column; }
    label { font-weight: 600; margin-bottom: 8px; color: rgba(255, 255, 255, 0.9); }
    .label-note { font-weight: 400; font-size: 12px; color: rgba(255, 255, 255, 0.7); margin-left: 5px; }
    input[type="text"], input[type="email"], textarea { padding: 14px 18px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: #fff; outline: none; font-size: 15px; transition: all 0.3s ease; }
    input::placeholder, textarea::placeholder { color: rgba(255,255,255,0.5); }
    input[type="text"]:focus, input[type="email"]:focus, textarea:focus { background: rgba(255,255,255,0.15); border-color: #c190fd; box-shadow: 0 0 15px rgba(193, 144, 253, 0.5); }
    textarea { resize: vertical; min-height: 100px; }
    .choice-group { display: flex; flex-wrap: wrap; gap: 15px 20px; margin-top: 5px; }
    .choice-group label { display: flex; align-items: center; cursor: pointer; background: rgba(255,255,255,0.1); padding: 12px 18px; border-radius: 12px; transition: background 0.3s; border: 1px solid transparent; margin-bottom: 5px; }
    .choice-group label:hover { background: rgba(255,255,255,0.2); }
    .choice-group input[type="radio"], .choice-group input[type="checkbox"] { display: none; }
    .choice-group input[type="radio"] + span, .choice-group input[type="checkbox"] + span { margin-left: 12px; }
    .custom-bullet { width: 20px; height: 20px; border: 2px solid #c190fd; border-radius: 50%; display: inline-block; position: relative; transition: all 0.3s; flex-shrink: 0; }
    .custom-box { border-radius: 6px; }
    .choice-group input[type="radio"]:checked + .custom-bullet::after { content: ''; width: 10px; height: 10px; background: #ffde8a; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
    .choice-group input[type="checkbox"]:checked + .custom-bullet::after { content: '✓'; font-size: 14px; font-weight: bold; color: #ffde8a; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
    .choice-group input:checked ~ span { color: #ffde8a; }
    .choice-group input:checked + .custom-bullet { border-color: #ffde8a; }
    .choice-group label:has(input:checked) { background: rgba(193, 144, 253, 0.2); border: 1px solid #c190fd; }
    .submit-btn { padding: 15px; border-radius: 12px; border: none; background: linear-gradient(90deg, #ffde8a, #c190fd); color: #1d103b; font-weight: 700; font-size: 16px; cursor: pointer; transition: all 0.3s ease; display: flex; justify-content: center; align-items: center; gap: 10px; margin-top: 10px; }
    .submit-btn:hover:not(:disabled) { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
    .submit-btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .loader { width: 18px; height: 18px; border: 3px solid #1d103b; border-bottom-color: transparent; border-radius: 50%; display: none; animation: rotation 1s linear infinite; }
    @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    #form-message { text-align: center; padding: 15px; border-radius: 10px; margin-top: 15px; font-weight: 500; display: none; }
    .message-success { background-color: #28a745; color: white; }
    .message-error { background-color: #dc3545; color: white; }
    @media (max-width: 768px) { .form-container { padding: 30px 25px; } .logo-section { flex-direction: column; text-align: center; } .logo-section img { margin-right: 0; margin-bottom: 15px; } }
  </style>
</head>
<body>

  <div class="form-container">
    <div class="logo-section">
      <img src="https://i.imgur.com/your-logo-image.png" alt="Logo">
      <div class="logo-text">
        <h1>Tattva Yantrika</h1>
        <p>तत्त्व यांत्रिक</p>
      </div>
    </div>

    <form id="feedbackForm">
      <div class="form-section">
        <label for="name">Name</label>
        <input type="text" id="name" name="Name" placeholder="What should we call you?" required>
      </div>
      
      <div class="form-section">
        <label for="email">Email</label>
        <input type="email" id="email" name="Email" placeholder="How can we contact you?" required>
      </div>
      
      <div class="form-section">
        <label>Overall, how satisfied are you with the course? (1=Not Satisfied, 5=Very Satisfied)</label>
        <div class="choice-group">
          <label><input type="radio" name="Satisfaction" value="1" required><div class="custom-bullet"></div><span>1</span></label>
          <label><input type="radio" name="Satisfaction" value="2"><div class="custom-bullet"></div><span>2</span></label>
          <label><input type="radio" name="Satisfaction" value="3"><div class="custom-bullet"></div><span>3</span></label>
          <label><input type="radio" name="Satisfaction" value="4"><div class="custom-bullet"></div><span>4</span></label>
          <label><input type="radio" name="Satisfaction" value="5"><div class="custom-bullet"></div><span>5</span></label>
        </div>
      </div>
      
      <div class="form-section">
        <label>Which topics did you find most valuable? <span class="label-note">(Select at least one)</span></label>
        <div class="choice-group" id="valuable-topics">
          <label><input type="checkbox" name="ValuableTopics" value="SolidWorks - Sketching"><div class="custom-bullet custom-box"></div><span>SolidWorks - Sketching</span></label>
          <label><input type="checkbox" name="ValuableTopics" value="SolidWorks - Part Modelling"><div class="custom-bullet custom-box"></div><span>SolidWorks - Part Modelling</span></label>
          <label><input type="checkbox" name="ValuableTopics" value="SolidWorks - Assembly"><div class="custom-bullet custom-box"></div><span>SolidWorks - Assembly</span></label>
          <label><input type="checkbox" name="ValuableTopics" value="ANSYS - Static Structural"><div class="custom-bullet custom-box"></div><span>ANSYS - Static Structural</span></label>
          <label><input type="checkbox" name="ValuableTopics" value="ANSYS - Explicit Dynamics"><div class="custom-bullet custom-box"></div><span>ANSYS - Explicit Dynamics</span></label>
          <label><input type="checkbox" name="ValuableTopics" value="ANSYS - Thermal Analysis"><div class="custom-bullet custom-box"></div><span>ANSYS - Thermal Analysis</span></label>
          <label><input type="checkbox" name="ValuableTopics" value="ANSYS - CFD"><div class="custom-bullet custom-box"></div><span>ANSYS - CFD</span></label>
        </div>
      </div>
      
      <div class="form-section">
        <label for="best-thing">What did you like most about the course?</label>
        <textarea id="best-thing" name="LikedMost" placeholder="e.g., The practical examples, the instructor's energy..." required></textarea>
      </div>
      
      <div class="form-section">
        <label for="testimonial">In one sentence, how would you describe your experience with Tattva Yantrika?</label>
        <textarea id="testimonial" name="Testimonial" placeholder="This will help others understand the value of the course." required></textarea>
      </div>
      
      <div class="form-section">
        <label>How likely are you to recommend this course to a friend or colleague?</label>
        <div class="choice-group">
          <label><input type="radio" name="Recommendation" value="Very Likely" required><div class="custom-bullet"></div><span>Very Likely</span></label>
          <label><input type="radio" name="Recommendation" value="Likely"><div class="custom-bullet"></div><span>Likely</span></label>
          <label><input type="radio" name="Recommendation" value="Unlikely"><div class="custom-bullet"></div><span>Unlikely</span></label>
        </div>
      </div>
      
      <div class="form-section">
        <label for="suggestions">Any suggestions for how we can improve?</label>
        <textarea id="suggestions" name="Suggestions" placeholder="All feedback, big or small, is welcome!" required></textarea>
      </div>
      
      <div class="form-section">
        <label>Sharing Your Experience</label>
        <div class="choice-group">
          <label>
            <input type="checkbox" name="Permission" value="Yes" required>
            <div class="custom-bullet custom-box"></div>
            <span>To help others see the value of this course, may we feature your encouraging words on our platform? (We'll only use your first name).</span>
          </label>
        </div>
      </div>
      
      <button type="submit" class="submit-btn" id="submitButton" disabled>
        <span id="buttonText">Submit Feedback</span>
        <div class="loader" id="loader"></div>
      </button>
    </form>
    
    <div id="form-message"></div>
  </div>

<script>
  const form = document.getElementById('feedbackForm');
  const submitButton = document.getElementById('submitButton');
  const buttonText = document.getElementById('buttonText');
  const loader = document.getElementById('loader');
  const formMessage = document.getElementById('form-message');

  const validateForm = () => {
    const requiredTextInputs = form.querySelectorAll('input[type="text"][required], input[type="email"][required], textarea[required]');
    let allTextFilled = true;
    requiredTextInputs.forEach(input => {
      if (input.value.trim() === '') { allTextFilled = false; }
    });
    const satisfactionChecked = form.querySelector('input[name="Satisfaction"]:checked') !== null;
    const recommendationChecked = form.querySelector('input[name="Recommendation"]:checked') !== null;
    const topicsChecked = form.querySelectorAll('input[name="ValuableTopics"]:checked').length > 0;
    const permissionChecked = form.querySelector('input[name="Permission"]').checked;
    if (allTextFilled && satisfactionChecked && recommendationChecked && topicsChecked && permissionChecked) {
      submitButton.disabled = false;
    } else {
      submitButton.disabled = true;
    }
  };
  
  form.addEventListener('input', validateForm);
  form.addEventListener('change', validateForm);

  form.addEventListener('submit', function(e) {
    e.preventDefault();
    submitButton.disabled = true;
    buttonText.textContent = 'Submitting...';
    loader.style.display = 'block';
    formMessage.style.display = 'none';

    const formData = new FormData(form);
    
    // Collect checked topics
    const valuableTopicsCheckboxes = document.querySelectorAll('input[name="ValuableTopics"]:checked');
    const topics = Array.from(valuableTopicsCheckboxes).map(cb => cb.value);
    
    // Build the data object
    const data = {
      Name: formData.get('Name'),
      Email: formData.get('Email'),
      Satisfaction: formData.get('Satisfaction'),
      ValuableTopics: topics.join(', '),
      LikedMost: formData.get('LikedMost'),
      Testimonial: formData.get('Testimonial'),
      Recommendation: formData.get('Recommendation'),
      Suggestions: formData.get('Suggestions'),
      Permission: formData.get('Permission') || 'No',
      Timestamp: new Date().toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' })
    };

    // REPLACE WITH YOUR GOOGLE APPS SCRIPT WEB APP URL
    const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbz-LKT6OMFNagO3R7WYxNISxWmUwckCPAmWT7PBQPp852eQpM4AcEKa_yyNXZwrn0M/exec";
    
    fetch(WEB_APP_URL, {
      redirect: "follow",
      method: 'POST',
      body: JSON.stringify(data),
      headers: {
        'Content-Type': 'text/plain;charset=utf-8',
      },
    })
    .then(response => response.json())
    .then(result => {
      if (result.result === "success") {
        formMessage.textContent = 'Thank you! Your feedback has been submitted successfully.';
        formMessage.className = 'message-success';
        form.reset();
        validateForm();
      } else {
        throw new Error(result.message || 'An unknown error occurred.');
      }
    })
    .catch(error => {
      console.error('Error:', error);
      formMessage.textContent = 'Oops! Something went wrong. Please try again later.';
      formMessage.className = 'message-error';
      submitButton.disabled = false;
    })
    .finally(() => {
      buttonText.textContent = 'Submit Feedback';
      loader.style.display = 'none';
      formMessage.style.display = 'block';
      setTimeout(() => { 
        if (formMessage.classList.contains('message-success')) {
          formMessage.style.display = 'none'; 
        }
      }, 6000);
    });
  });
</script>

</body>
</html>
